'use client';

import { Eye, EyeOff, Maximize2 } from 'lucide-react';
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue
} from '@/components/ui/select';

export type ViewMode = 'quick' | 'standard' | 'full';

interface ViewSwitcherProps {
  value: ViewMode;
  onChange: (mode: ViewMode) => void;
}

const viewModeOptions = [
  {
    value: 'full' as ViewMode,
    label: '完整模式',
    description: '显示所有详细信息',
    icon: Maximize2
  },
  {
    value: 'standard' as ViewMode,
    label: '标准模式',
    description: '显示概览和基础详情',
    icon: EyeOff
  },
  {
    value: 'quick' as ViewMode,
    label: '快速浏览',
    description: '仅显示核心概览信息',
    icon: Eye
  }
];

export function ViewSwitcher({ value, onChange }: ViewSwitcherProps) {
  const currentMode = viewModeOptions.find((mode) => mode.value === value);

  return (
    <Select value={value} onValueChange={onChange}>
      <SelectTrigger size='sm' className='h-8 w-auto min-w-[100px] pr-8'>
        <SelectValue placeholder='选择视图' />
      </SelectTrigger>
      <SelectContent>
        {viewModeOptions.map((mode) => (
          <SelectItem key={mode.value} value={mode.value}>
            <div className='flex items-center gap-2'>
              <mode.icon className='h-4 w-4' />
              <span className='text-sm font-medium'>{mode.label}</span>
            </div>
          </SelectItem>
        ))}
      </SelectContent>
    </Select>
  );
}
